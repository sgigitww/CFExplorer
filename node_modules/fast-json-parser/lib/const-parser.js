"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const code_1 = require("./code");
class ConstParser {
    constructor() {
        this.pos = 0;
        this.expect = null;
    }
    init(code) {
        this.pos = 0;
        if (code === 116 /* T */) {
            this.expect = code_1.Constants.True;
        }
        else if (code === 102 /* F */) {
            this.expect = code_1.Constants.False;
        }
        else if (code === 110 /* N */) {
            this.expect = code_1.Constants.Null;
        }
        else {
            throw new Error("Invalid: " + String.fromCharCode(code));
        }
    }
    advance(str, k) {
        this.pos += 1;
        if (this.pos >= this.expect.length)
            return true;
        if (this.expect[this.pos] !== str.charCodeAt(k))
            throw new Error("Invalid: " + str);
        return false;
    }
    value() {
        return this.expect === code_1.Constants.True ? true : this.expect === code_1.Constants.False ? false : null;
    }
}
exports.ConstParser = ConstParser;
//# sourceMappingURL=const-parser.js.map